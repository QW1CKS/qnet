# T6.6 Acceptance Checklist

Use this checklist to sign off T6.6. Attach the listed artifacts in the code repo PR and reference commit SHAs.

## Preconditions
- [x] Features present: `perf-bench`, `quic` (default off), `latency-mode` implemented
- [x] Zero-copy paths in crypto/framing (uses BytesMut; buffer pooling for ≥64KiB) — partial (pooling TBD)
- [x] Criterion benches exist: core-crypto, core-framing, htx(handshake/stream)
- [x] Criterion benches exist: mesh (TCP/QUIC) — QUIC gated by feature

## Bench Artefacts
- [x] Criterion reports uploaded (target/criterion → CI artifacts)
- [x] Perf summary attached: `artifacts/perf-summary.md` (based on spec template)
	- Note: CI also produces `artifacts/perf-summary.json` parsed from Criterion estimates
- [x] Hardware profile for the run (Linux or Windows) stored under `artifacts/`
- [ ] Optional: baseline comparison run results (perf-compare.sh output)

## Metrics (pass if all true)
- [ ] AEAD ≥ 2 GB/s per core on ≥16KiB payloads (x86_64 AVX2 reference)
	- Result (this host): ~1.2–1.4 GiB/s @16KiB (below target; likely hardware-bound on i5‑7300HQ, AVX2 but mobile CPU). Re-validate on desktop reference.
- [x] HTX handshake median < 50 ms on loopback
	- Result: ~0.75 ms median (PASS).
- [ ] QUIC p50 improves by ≥ 50 ms vs TCP under 20 ms RTT/1% loss simulation
	- Result (uncapped rr_compare, n=100, rtt=20ms, loss=1%): TCP p50 ≈ 19.3 ms; QUIC p50 ≈ 19.9 ms (Not met). Suggest reframing to tail latency under concurrent load (e.g., p95 at 16 inflight) where QUIC is expected to outperform due to no HOL across streams.
- [x] Mixnet latency-mode=low: added p95 < 100 ms (3-hop local testbed)

## CI Guardrails
- [x] Nightly perf job enabled (uploads Criterion)
- [x] Regression thresholds enforced (10% throughput, 15% latency), with override mechanism
	- Nightly: warn-only; PR perf-guard fails on >15% latency or >10% throughput drop unless perf-override is set.

## Final Sign-off
- [ ] PR references T6.6 and attaches required artifacts
	- Local artifacts present under `artifacts/` (Criterion reports, perf-summary.md, hardware profile).
- [ ] Testing rules satisfied (include perf evidence)
- [ ] Maintainer approval with “T6.6: PASS” in commit footer
